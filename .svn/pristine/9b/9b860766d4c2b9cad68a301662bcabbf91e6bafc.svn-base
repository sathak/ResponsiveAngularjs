(function () {
    'use strict';

    angular
        .module('app.usermanagement')
        .controller('usermanagement', usermanagement);

    function usermanagement($scope, dataservice, logger, $compile, $timeout, $location, pageConfig, $rootScope, menuSettings) {
        var vm = this;
      //  activate();

        if (pageConfig === undefined || pageConfig.fields === undefined) {
            $location.url('/');
            return false;
        }
        vm.formManage = {};
        //  vm.rights = navcon.getUserRights(menuSettings, "padministration", "kendofields");
        /*Settings*/
        vm.pageConfig = pageConfig;
        vm.kendofieldsFields = angular.copy(vm.pageConfig.fields.kendofieldsFields);
        vm.kendofieldsTable = angular.copy(vm.pageConfig.tables.kendofieldsTable);


        function activate() {
            dataservice.postServerData("", filterFields, false, "", "UserManagement/GetAllUsers").then(function (data) {
                if (data === undefined || data.length === 0) return;
                vm.kendofieldsTable.data = data;
                vm.kendofieldsTableData = data;
            });
        };
    }
})();